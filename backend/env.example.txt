# Environment Configuration untuk Sirine Go Backend
# Developer: Zulfikar Hidayatullah
# Copy file ini ke .env dan sesuaikan dengan environment Anda

# ====================
# APPLICATION CONFIG
# ====================

# Environment mode: development, staging, production
APP_ENV=development

# Application port
APP_PORT=8080

# Application host
APP_HOST=0.0.0.0

# Frontend URL untuk CORS dan email links
FRONTEND_URL=http://localhost:5173

# ====================
# DATABASE CONFIG
# ====================

# Database connection
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_database_password
DB_NAME=sirine_go

# Database pool settings
DB_MAX_IDLE_CONNS=10
DB_MAX_OPEN_CONNS=100
DB_CONN_MAX_LIFETIME=3600

# ====================
# JWT CONFIG
# ====================

# JWT secret key (IMPORTANT: Change this in production!)
# Generate dengan: openssl rand -base64 64
JWT_SECRET=your-secret-key-change-this-in-production-use-long-random-string

# JWT expiry duration (dalam minutes)
JWT_EXPIRY=15

# Refresh token expiry (dalam days)
REFRESH_TOKEN_EXPIRY=30

# ====================
# SECURITY CONFIG
# ====================

# Bcrypt cost factor (10-14 recommended, higher = more secure but slower)
BCRYPT_COST=12

# Maximum login attempts sebelum account locked
MAX_LOGIN_ATTEMPTS=5

# Lockout duration (dalam minutes)
LOCKOUT_DURATION=15

# ====================
# EMAIL CONFIG (SMTP)
# ====================

# SMTP server configuration
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM_ADDRESS=noreply@sirine-go.com
EMAIL_FROM_NAME=Sistem Produksi Pita Cukai

# Email configuration untuk development (gunakan Mailtrap atau MailHog)
# EMAIL_SMTP_HOST=smtp.mailtrap.io
# EMAIL_SMTP_PORT=2525
# EMAIL_USERNAME=your-mailtrap-username
# EMAIL_PASSWORD=your-mailtrap-password

# ====================
# FILE UPLOAD CONFIG
# ====================

# Upload directory (relative ke project root)
UPLOAD_DIR=public/uploads

# Maximum file size (dalam MB)
MAX_FILE_SIZE=5

# Allowed file extensions untuk profile photos
ALLOWED_PHOTO_EXTENSIONS=jpg,jpeg,png,webp

# ====================
# CORS CONFIG
# ====================

# Allowed origins (comma separated)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:4173

# Allow credentials (cookies)
CORS_ALLOW_CREDENTIALS=true

# ====================
# RATE LIMITING CONFIG
# ====================

# General API rate limit (requests per minute per user)
RATE_LIMIT_GENERAL=100

# Login endpoint rate limit (requests per 15 minutes per IP)
RATE_LIMIT_LOGIN=5

# ====================
# LOGGING CONFIG
# ====================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log output: stdout, file, both
LOG_OUTPUT=stdout

# Log file path (jika LOG_OUTPUT=file atau both)
LOG_FILE_PATH=logs/app.log

# ====================
# REDIS CONFIG (Optional - untuk caching)
# ====================

# Redis connection
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis enabled (true/false)
REDIS_ENABLED=false

# ====================
# TIMEZONE CONFIG
# ====================

# Application timezone (default: Asia/Jakarta untuk WIB)
TIMEZONE=Asia/Jakarta

# ====================
# DEVELOPMENT CONFIG
# ====================

# Enable debug mode (true/false)
DEBUG=true

# Enable SQL query logging (true/false)
SQL_DEBUG=false

# Enable hot reload (true/false)
HOT_RELOAD=true

# ====================
# PRODUCTION NOTES
# ====================

# Untuk production environment:
# 1. Set APP_ENV=production
# 2. Set DEBUG=false
# 3. Generate strong JWT_SECRET
# 4. Use strong DB_PASSWORD
# 5. Configure proper EMAIL settings
# 6. Set CORS_ALLOWED_ORIGINS ke production domain
# 7. Enable REDIS_ENABLED=true untuk better performance
# 8. Set LOG_LEVEL=warn atau error
# 9. Configure proper backup strategy
# 10. Enable HTTPS dan set secure cookies
